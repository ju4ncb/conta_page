import{r as i,j as e,i as x,a as y,b as g}from"../chunks/chunk-CdC7BqoH.js";import{D as T,S as j}from"../chunks/chunk-C1NQNBfv.js";import{u as C}from"../chunks/chunk-Cgl3FOY4.js";import{F as v}from"../chunks/chunk-DI-FeWUm.js";/* empty css                      */import"../chunks/chunk-D_bf-hCy.js";const w=({children:s})=>{const[a,n]=i.useState(!1),[d,t]=i.useState("");async function l(o,c,S){const p=localStorage.getItem("user");if(p!=null){const b=JSON.parse(p);try{const u=c,f=await(await fetch("/insert-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tabla:"Bolsillos",columnas:["id_us","nombre","dinero","descripcion"],values:[b.id_us,o,u+"",S]})})).text();if(f!="Values inserted")t(f);else{const h=await(await fetch("/insert-movimiento",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:o,dinero:c})})).text();h!="Values inserted"?t(h):window.location.href="/dashboard/bolsillos"}}catch(u){console.error("Error al enviar los datos:",u)}}}function r(){n(a===!1)}return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"bolsillos-container",children:[s,e.jsx(m,{onClick:r,children:e.jsx("p",{children:"Crear bolsillo"})})]}),a&&e.jsx(v,{additionalClass:"fixed",onSubmitForm:o=>{l(o[0],o[1],o[2])},buttons:[{content:"Crear bolsillo",function:()=>{},isSubmit:!0},{content:"Cerrar",function:o=>{o.preventDefault(),r()},isSubmit:!1}],formInputs:[{hideChar:!1,maxChar:30,minChar:0,required:!0,desc:"TÃ­tulo (*) ",name:"nombre"},{hideChar:!1,maxChar:10,minChar:0,required:!0,desc:"Dinero inicial (*) ",name:"dinero"},{hideChar:!1,maxChar:200,minChar:0,required:!1,desc:"Descripcion",name:"descripcion"}],errorMessage:d})]})},m=({children:s,onClick:a})=>e.jsx("div",{className:"bolsillo",onClick:a,children:s});function P(){const[,s]=i.useState({}),[a,n]=i.useState([]);async function d(){const t=localStorage.getItem("user");if(t!=null){const r=await(await fetch("/get-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tabla:"Bolsillos",columnas:"nombre, descripcion, dinero, id_bo, id_us",condicion:"id_us = "+JSON.parse(t).id_us})})).json();r.resultados.length!=0&&n(r.resultados)}}return i.useEffect(()=>{const t=localStorage.getItem("user");t===null?window.location.href="/":(s(JSON.parse(t)),d())},[]),C(),e.jsxs(T,{children:[e.jsx(j,{isBack:!0,children:""}),e.jsx("main",{className:"dash-content",children:e.jsx(w,{children:a.length==0?"":a.map((t,l)=>e.jsx(m,{onClick:()=>{localStorage.setItem("bolsillo",JSON.stringify(t)),window.location.href="/dashboard/bolsillos/"+t.id_bo},children:e.jsx("p",{children:t.nombre})},l))})})]})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),N={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderClient.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:g}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:y}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:x}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/dashboard/bolsillos/index/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:z}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{N as configValuesSerialized};
