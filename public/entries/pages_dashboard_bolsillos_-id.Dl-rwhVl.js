import{r as i,j as e,i as x,a as y,b as j}from"../chunks/chunk-CdC7BqoH.js";import{D as v,S as T,a as u}from"../chunks/chunk-C1NQNBfv.js";import{u as g}from"../chunks/chunk-Cgl3FOY4.js";import{F as P}from"../chunks/chunk-DI-FeWUm.js";/* empty css                      */import"../chunks/chunk-D_bf-hCy.js";function w(){const[t,p]=i.useState({}),[l,h]=i.useState([]),[n,d]=i.useState(!1),[m,f]=i.useState("");async function b(o){try{const a=Number(o),r=await(await fetch("/update-bolsillo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_bo:t.id_bo+"",dinero:a+""})})).text();r!="Values updated"?f(r):(t.dinero=t.dinero+a,localStorage.setItem("bolsillo",JSON.stringify(t)),window.location.href="/dashboard/bolsillos/"+t.id_bo)}catch(a){console.error("Error al enviar los datos:",a)}}function c(){d(n===!1)}async function S(o){try{const s=await(await fetch("/get-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tabla:"Movimientos",columnas:"id_mo, id_bo, monto, descripcion, fecha",condicion:"id_bo = "+o.id_bo})})).json();h(s.resultados),console.log(l)}catch(a){console.error("Error al enviar los datos:",a)}}return i.useEffect(()=>{const o=localStorage.getItem("bolsillo");o===null?window.location.href="/":(p(JSON.parse(o)),S(JSON.parse(o)))},[]),g(),e.jsxs(v,{children:[e.jsxs(T,{isBack:!0,children:[e.jsxs(u,{handleClick:()=>{c()},children:[e.jsx("i",{className:"bi bi-journal-plus"}),e.jsx("p",{children:"Nuevo movimiento"})]}),e.jsxs(u,{handleClick:async()=>{try{fetch("/delete-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tabla:"Movimientos",condicion:"id_bo = "+t.id_bo})}).then(o=>o.text()).then(()=>{console.log("id_bo = "+t.id_bo)}),fetch("/delete-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tabla:"Bolsillos",condicion:"id_bo = "+t.id_bo})}).then(o=>o.text()).then(()=>{console.log("id_bo = "+t.id_bo)}),localStorage.removeItem("bolsillo"),window.location.href="/dashboard/bolsillos"}catch(o){console.error("Error al eliminar el bolsillo:",o)}},children:[e.jsx("i",{className:"bi bi-journal-x"}),e.jsx("p",{children:"Eliminar"})]})]}),e.jsxs("main",{className:"dash-content",style:{flex:3.5},children:[e.jsxs("section",{className:"bolsillo-extendido",children:[e.jsx("div",{className:"titulo",children:e.jsx("h1",{children:t.nombre})}),e.jsxs("div",{className:"contenido",children:[t.descripcion!==null&&e.jsx("div",{className:"descripcion",children:e.jsx("p",{children:t.descripcion})}),e.jsx("div",{className:"balance",children:e.jsxs("p",{children:["$",t.dinero]})}),e.jsxs("section",{className:"movimientos",children:[e.jsx("h3",{children:"Movimientos"}),l.map(({monto:o,descripcion:a,fecha:s},r)=>e.jsxs("p",{children:["Dinero: $",o,a!=null&&", DescripciÃ³n: "+a,","," ",s]},r))]})]})]}),n&&e.jsx(P,{additionalClass:"fixed",onSubmitForm:o=>{b(o[0])},buttons:[{content:"Cambiar dinero",function:()=>{},isSubmit:!0},{content:"Cancelar",function:o=>{o.preventDefault(),c()},isSubmit:!1}],formInputs:[{hideChar:!1,maxChar:100,minChar:0,required:!0,desc:"Suma o resta la cantidad actual de dinero",name:"monto"}],errorMessage:m})]})]})}const _=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),A={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderClient.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:j}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:y}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:x}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/dashboard/bolsillos/@id/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:_}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{A as configValuesSerialized};
